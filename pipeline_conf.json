{
    "connectors": {
        "sentseg": {
            "protocol": "http",
            "timeout": 1,
            "url": "http://sentseg:8011/sentseg"
        },
        "ner": {
            "protocol": "http",
            "timeout": 1,
            "url": "http://ner:8021/ner"
        },
        "sentrewrite": {
            "protocol": "http",
            "timeout": 1,
            "url": "http://sentrewrite:8017/sentrewrite"
        }
    },
    "services": {
        "last_chance_service": {
            "connector": {
                "protocol": "python",
                "class_name": "PredefinedTextConnector",
                "response_text": "Sorry, something went wrong inside. Please tell me, what did you say.",
                "annotations": {
                    "sentseg": {
                        "punct_sent": "Sorry, something went wrong inside. Please tell me, what did you say.",
                        "segments": [
                            "Sorry, something went wrong inside.",
                            "Please tell me, what did you say."
                        ]
                    },
                    "sentrewrite": {
                        "clusters": [],
                        "modified_sents": [
                            "Sorry, something went wrong inside. Please tell me, what did you say."
                        ]
                    },
                    "ner": [
                        []
                    ]
                }
            },
            "state_manager_method": "add_bot_utterance_last_chance",
            "tags": [
                "last_chance"
            ]
        },
        "timeout_service": {
            "connector": {
                "protocol": "python",
                "class_name": "PredefinedTextConnector",
                "response_text": "Sorry, I need to think more on that. Let's talk about something else.",
                "annotations": {
                    "sentseg": {
                        "punct_sent": "Sorry, I need to think more on that. Let's talk about something else.",
                        "segments": [
                            "Sorry, I need to think more on that.",
                            "Let's talk about something else."
                        ]
                    },
                    "sentrewrite": {
                        "clusters": [],
                        "modified_sents": [
                            "Sorry, I need to think more on that. Let's talk about something else."
                        ]
                    },
                    "ner": [
                        []
                    ]
                }
            },
            "state_manager_method": "add_bot_utterance_last_chance",
            "tags": [
                "timeout"
            ]
        },
        "bot_annotator_selector": {
            "connector": {
                "protocol": "python",
                "class_name": "skill_selectors.post_annotator_selector.connector:PostAnnotatorSelectorConnector",
                "annotator_names": [
                    "sentseg",
                    "ner",
                    "sentrewrite",
                    "cobot_nounphrases"
                ]
            },
            "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
            "tags": [
                "selector"
            ]
        },
        "post_annotators": {
            "sentseg": {
                "connector": "connectors.sentseg",
                "dialog_formatter": "state_formatters.dp_formatters:last_bot_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "bot_annotator_selector"
                ],
                "state_manager_method": "add_annotation_prev_bot_utt"
            },
            "ner": {
                "connector": "connectors.ner",
                "dialog_formatter": "state_formatters.dp_formatters:ner_formatter_last_bot_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "bot_annotator_selector",
                    "post_annotators.sentseg"
                ],
                "state_manager_method": "add_annotation_prev_bot_utt"
            },
            "sentrewrite": {
                "connector": "connectors.sentrewrite",
                "dialog_formatter": "state_formatters.dp_formatters:sent_rewrite_formatter_w_o_last_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "bot_annotator_selector",
                    "post_annotators.sentseg",
                    "post_annotators.ner"
                ],
                "state_manager_method": "add_annotation_prev_bot_utt"
            },
            "cobot_nounphrases": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://cobot-nounphrases:8006/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:last_bot_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_annotation_prev_bot_utt"
            }
        },
        "annotators": {
            "spelling_preprocessing": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://spelling-preprocessing:8074/response"
                },
                "dialog_formatter": "state_formatters.dp_formatters:last_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation_and_reset_human_attributes_for_first_turn"
            },
            "sentseg": {
                "connector": "connectors.sentseg",
                "dialog_formatter": "state_formatters.dp_formatters:preproc_last_human_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing"
                ],
                "state_manager_method": "add_annotation"
            },
            "cobot_nounphrases": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://cobot-nounphrases:8006/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:preproc_last_human_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing"
                ],
                "state_manager_method": "add_annotation"
            },
            "conceptnet": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://comet-conceptnet:8065/comet_annotator"
                },
                "dialog_formatter": "state_formatters.dp_formatters:last_human_utt_nounphrases",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing"
                ],
                "previous_services": [
                    "annotators.cobot_entities",
                    "annotators.cobot_nounphrases"
                ],
                "state_manager_method": "add_annotation"
            },
            "blacklisted_words": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://blacklisted-words:8018/blacklisted_words"
                },
                "dialog_formatter": "state_formatters.dp_formatters:preproc_last_human_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing"
                ],
                "state_manager_method": "add_annotation"
            },
            "asr": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://asr:8031/asr_check"
                },
                "dialog_formatter": "state_formatters.dp_formatters:asr_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation"
            },
            "factoid_classification": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://factoid-classification:8073/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:preproc_last_human_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:dp_classes_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing"
                ],
                "state_manager_method": "add_annotation"
            },
            "intent_catcher": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://intent-catcher:8014/detect"
                },
                "dialog_formatter": "state_formatters.dp_formatters:last_utt_sentseg_segments_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg"
                ]
            },
            "fact_random": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://fact-random:8119/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:fact_retrieval_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "previous_services": [
                    "annotators.cobot_nounphrases",
                    "annotators.entity_detection"
                ]
            },
            "fact_retrieval": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://fact-retrieval:8100/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:fact_retrieval_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg",
                    "annotators.entity_linking"
                ]
            },
            "ner": {
                "connector": "connectors.ner",
                "dialog_formatter": "state_formatters.dp_formatters:ner_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg"
                ]
            },
            "entity_detection": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://entity-detection:8103/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:ner_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg"
                ]
            },
            "kbqa": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://kbqa:8072/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:kbqa_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.entity_linking"
                ]
            },
            "entity_linking": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://entity-linking:8075/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:el_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.ner"
                ],
                "previous_services": [
                    "annotators.cobot_entities",
                    "annotators.cobot_nounphrases"
                ]
            },
            "wiki_parser": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://wiki-parser:8077/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:wp_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.entity_linking"
                ]
            },
            "sentrewrite": {
                "connector": "connectors.sentrewrite",
                "dialog_formatter": "state_formatters.dp_formatters:sent_rewrite_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "add_annotation",
                "required_previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg",
                    "annotators.ner",
                    "post_annotators.ner"
                ]
            },
            "midas_classification": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://midas-classification:8090/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:utt_sentseg_punct_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg"
                ],
                "state_manager_method": "add_annotation"
            },
            "combined_classification": {
                "connector": {
                    "protocol": "http",
                    "timeout": 3,
                    "url": "http://combined-classification:8087/model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:preproc_last_human_utt_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "required_previous_services": [
                    "annotators.spelling_preprocessing"
                ],
                "state_manager_method": "add_annotation"
            },
            "entity_storer": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://entity-storer:8089/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:entity_storer_formatter",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "update_attributes",
                "previous_services": [
                    "annotators.combined_classification",
                    "annotators.intent_catcher"
                ]
            },
            "news_api_annotator": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://news-api-annotator:8112/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:utt_non_punct_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg",
                    "annotators.ner",
                    "annotators.cobot_entities",
                    "annotators.cobot_nounphrases"
                ],
                "state_manager_method": "add_annotation"
            },
            "topic_recommendation": {
                "connector": {
                    "protocol": "http",
                    "timeout": 2,
                    "url": "http://topic-recommendation:8113/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:topic_recommendation_formatter",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "annotators.spelling_preprocessing",
                    "annotators.sentseg",
                    "annotators.cobot_topics"
                ],
                "state_manager_method": "add_annotation"
            },
            "user_persona_extractor": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://user-persona-extractor:8114/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:utt_non_punct_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "state_manager_method": "update_attributes",
                "previous_services": [
                    "annotators.spelling_preprocessing"
                ]
            }
        },
        "skill_selectors": {
            "rule_based_selector": {
                "connector": {
                    "protocol": "python",
                    "class_name": "skill_selectors.rule_based_selector.connector:RuleBasedSkillSelectorConnector"
                },
                "dialog_formatter": "state_formatters.dp_formatters:base_skill_selector_formatter_dialog",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "annotators"
                ],
                "required_previous_services": [
                    "annotators.blacklisted_words",
                    "annotators.asr"
                ],
                "tags": [
                    "selector"
                ]
            }
        },
        "skills": {
            "dff_template_skill": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://dff-template-skill:8120/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:dff_template_skill_formatter",
                "response_formatter": "state_formatters.dp_formatters:skill_with_attributes_formatter_service",
                "previous_services": [
                    "skill_selectors"
                ],
                "state_manager_method": "add_hypothesis"
            }
        },
        "post_skill_selector_annotators": {
            "blacklisted_words": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://blacklisted-words:8018/blacklisted_words_batch"
                },
                "dialog_formatter": "state_formatters.dp_formatters:hypotheses_list",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_hypothesis_annotation_batch"
            },
            "cobot_nounphrases": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://cobot-nounphrases:8006/respond_batch"
                },
                "dialog_formatter": "state_formatters.dp_formatters:hypotheses_list",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_hypothesis_annotation_batch"
            },
            "entity_detection": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://entity-detection:8103/respond_batch"
                },
                "dialog_formatter": "state_formatters.dp_formatters:hypotheses_list",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_hypothesis_annotation_batch"
            },
            "midas_classification": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://midas-classification:8090/batch_model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:hypotheses_list_last_uttr",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_hypothesis_annotation_batch"
            },
            "combined_classification": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://combined-classification:8087/batch_model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:hypotheses_list",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_hypothesis_annotation_batch"
            },
            "hypothesis_scorer": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://hypothesis-scorer:8110/batch_model"
                },
                "dialog_formatter": "state_formatters.dp_formatters:hypothesis_scorer_formatter",
                "response_formatter": "state_formatters.dp_formatters:simple_formatter_service",
                "previous_services": [
                    "skills"
                ],
                "state_manager_method": "add_hypothesis_annotation_batch"
            }
        },
        "response_selectors": {
            "convers_evaluation_selector": {
                "connector": {
                    "protocol": "http",
                    "timeout": 1,
                    "url": "http://convers-evaluation-selector:8009/respond"
                },
                "dialog_formatter": "state_formatters.dp_formatters:full_history_dialog",
                "response_formatter": "state_formatters.dp_formatters:base_response_selector_formatter_service",
                "previous_services": [
                    "post_skill_selector_annotators"
                ],
                "state_manager_method": "add_bot_utterance"
            }
        }
    }
}
